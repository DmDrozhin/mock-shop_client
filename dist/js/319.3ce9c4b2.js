"use strict";(self["webpackChunk_2023_11_23_mock_shop_client"]=self["webpackChunk_2023_11_23_mock_shop_client"]||[]).push([[319],{8319:function(t,e,a){a.r(e),a.d(e,{default:function(){return C}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-products-cart"},[e("h2",[t._v(t._s(t.title))]),e("div",{staticClass:"cart-items"},t._l(t.CART,(function(a,s){return e("cartItem",{key:s,attrs:{prodData:a,idx:s},on:{updateCart:function(e){return t.updateCart(e)},deleteItem:function(e){return t.deleteItem(e)}}})})),1),t.CART_PRODS_QT?e("div",{staticClass:"cart-summary"},[e("div",{staticClass:"cart-summary part1"},[e("div",{staticClass:"part1__prod-qt"},[e("ui-text-info",{attrs:{num:t.CART_PRODS_QT,fontSz:1.5,label1:"Товарів"}})],1),e("div",{staticClass:"part1__unit-qt"},[e("ui-text-info",{staticClass:"unit-qt__ui-text-info",attrs:{num:t.CART_QT,fontSz:1.5,label1:"Кількість",label2:"шт."}})],1),e("div",{staticClass:"part1__total-sum"},[e("ui-price-info",{staticClass:"part1__ui-price-info",attrs:{price:t.CART_SUM,fontSz:1.5,label:"Сума замовлення:"}})],1)]),e("div",{staticClass:"part2"},[e("ui-order-button",{staticClass:"part2__order-button",attrs:{icon:"shopping_bag",frontIcon:"double_arrow",isActive:t.CART_SUM>0,color:"#329c26"},on:{handlePrompt:function(e){return t.processCart()}}},[t._v("Оформити ")])],1)]):t._e()])},i=[],r=(a(560),a(3429),a(5564),function(){var t=this,e=t._self._c;return e("div",{staticClass:"v-products-cart-item"},[e("div",{staticClass:"item"},[e("p",{staticClass:"item__prod-id"},[t._v(t._s(t.idx+1))]),e("h3",{staticClass:"item__prod-name"},[t._v(t._s(t.prodData["prod-name"]))]),e("div",{staticClass:"item__img-wrapper item-img"},[e("div",{staticClass:"item-img__image",style:t.backGroundImage})]),e("div",{staticClass:"item__prod-info prod-info"},[e("div",[t._v(t._s(t.prodData.category))]),e("ui-text-info",{staticClass:"prod-info__article",attrs:{num:t.prodData.article,fontSz:1,label1:"Артикль:"}}),e("ui-price-info",{staticClass:"prod-info__price",attrs:{price:t.prodData.price,fontSz:1,label:"Ціна"}}),e("ui-text-info",{staticClass:"prod-info__stock",attrs:{num:t.instockQt,fontSz:1,label1:"В наявності",label2:"од."}}),e("div",{staticClass:"tech-info"},[t._v("ID: "+t._s(t.prodData.id))]),e("div",{staticClass:"tech-info"},[t._v("Qt: "+t._s(t.prodData.prodQt)+"/ "+t._s(t.cartQt))])],1),e("div",{staticClass:"item__size flex-wrapper"},[e("ui-text-info",{staticClass:"prod-info__stock",attrs:{num:t.prodData.prodSize.toUpperCase(),fontSz:1.2,label1:"Розмір:"}})],1),e("div",{staticClass:"item__qt-selector"},[e("ui-count-picker",{attrs:{value:t.cartQt,maxValue:t.instockQt,minValue:1,label:"Кількість:"},on:{clicked:function(e){return t.updateQt(e)}}})],1),e("div",{staticClass:"item__sum-block"},[e("ui-price-info",{attrs:{price:t.cartSum,fontSz:1.5,label:"Сума"}})],1),e("div",{staticClass:"item__del-btn"},[e("ui-delete-button",{on:{deleteItem:t.deleteItem}})],1)])])}),o=[],c={name:"v-products-cart-item",data(){return{cartQt:0}},props:{prodData:{type:Object,default:()=>{}},idx:{type:Number,default:0}},computed:{cartSum(){return this.cartQt*this.prodData.price},backGroundImage(){return{"background-image":"url("+a(990)("./"+this.prodData.image)+")"}},instockArr(){let t=[];return this.prodData.available.forEach((e=>{const a=Object.entries(e)[0];t.push({sz:a[0],qt:a[1]})})),t},instockQt(){return this.instockArr.find((t=>t.sz===this.prodData.prodSize)).qt},isInStock(){return this.instockQt>0}},watch:{},methods:{deleteItem(){this.$emit("deleteItem",this.prodData)},updateQt(t){this.cartQt=this.cartQt+t,this.updateCart()},updateCart(){const t=JSON.parse(JSON.stringify(this.prodData));t.cartQt=this.cartQt,t.cartSum=this.cartSum,this.$emit("updateCart",t)}},mounted(){this.cartQt=this.prodData.cartQt}},n=c,d=a(1001),l=(0,d.Z)(n,r,o,!1,null,"5e95325e",null),_=l.exports,u=a(3822),p={name:"v-products-cart",components:{cartItem:_},data(){return{title:"Кошик",noticeBlock:"",msgID:"",modal:{isBaseActive:!0,isFrozenBg:!0,isModalActive:!0,result:void 0,page:this.currentPage},removable:{}}},computed:{...(0,u.Se)(["CART","CART_PRODS_QT","CART_SUM","CART_QT","MODAL_IF_MODE"]),currentPage(){return this.$route.name},approve(){return this.MODAL_IF_MODE(this.msgID,!1)},disapprove(){return this.MODAL_IF_MODE(this.msgID,!0)}},watch:{approve(t){t&&(this.MOVE_CART_TO_ORDER(),this.$router.push({name:"order"}))},disapprove(t){t&&(this.CART_PRODS_QT>1?this.DELETE_FROM_CART(this.removable.cartId):(this.DELETE_FROM_CART(this.removable.cartId),this.$router.push({name:"products"})))}},methods:{...(0,u.nv)(["DELETE_FROM_CART","UPDATE_CART","MOVE_CART_TO_ORDER","SET_MODAL_WINDOW"]),processCart(){const t=structuredClone(this.modal);t.id=this.msgID=Number((Date.now()/100).toFixed().slice(4)),t.title="замовлення",t.message=`На суму: ${this.CART_SUM.toFixed(2)} грн.`,t.data=`Кількість: ${this.CART_QT}`,t.prompt="Перейти до оформлення?",t["remove-mode"]=!1,this.SET_MODAL_WINDOW(t)},updateCart(t){this.UPDATE_CART(t)},deleteItem(t){this.removable=t;const e=structuredClone(this.modal);e.id=this.msgID=Number((Date.now()/100).toFixed().slice(4)),e.title=t["prod-name"],e.message=`Розмір: ${t.prodSize}`,e.data=`Код товару: ${t.article}`,e.prompt="Видалити з кошику?",e["remove-mode"]=!0,this.SET_MODAL_WINDOW(e)}}},m=p,h=(0,d.Z)(m,s,i,!1,null,"ebcd6f3a",null),C=h.exports}}]);
//# sourceMappingURL=319.3ce9c4b2.js.map
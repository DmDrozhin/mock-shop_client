"use strict";(self["webpackChunk_2023_11_23_mock_shop_client"]=self["webpackChunk_2023_11_23_mock_shop_client"]||[]).push([[283],{3283:function(t,a,e){e.r(a),e.d(a,{default:function(){return C}});var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"v-products-cart"},[a("h2",[t._v(t._s(t.title))]),a("div",{staticClass:"cart-items"},t._l(t.CART,(function(e,i){return a("cartItem",{key:i,attrs:{prodData:e,idx:i},on:{updateCart:function(a){return t.updateCart(a)},deleteItem:function(a){return t.deleteItem(a)}}})})),1),t.CART_PRODS_QT?a("div",{staticClass:"cart-summary"},[a("div",{staticClass:"cart-summary part1"},[a("div",{staticClass:"part1__prod-qt"},[a("ui-text-info",{attrs:{num:t.CART_PRODS_QT,fontSz:1.5,label1:"Товарів"}})],1),a("div",{staticClass:"part1__unit-qt"},[a("ui-text-info",{staticClass:"unit-qt__ui-text-info",attrs:{num:t.CART_QT,fontSz:1.5,label1:"Кількість",label2:"шт."}})],1),a("div",{staticClass:"part1__total-sum"},[a("ui-price-info",{staticClass:"part1__ui-price-info",attrs:{price:t.CART_SUM,fontSz:1.5,label:"Сума замовлення:",isVertical:!1}})],1)]),a("div",{staticClass:"part2"},[a("ui-order-button",{staticClass:"part2__order-button",attrs:{icon:"shopping_bag",frontIcon:"double_arrow",isActive:t.CART_SUM>0,color:"#329c26"},on:{handlePrompt:function(a){return t.processCart()}}},[t._v("Оформити ")])],1)]):t._e()])},s=[],r=(e(560),e(3429),e(5564),function(){var t=this,a=t._self._c;return a("div",{staticClass:"v-products-cart-item"},[a("div",{staticClass:"item"},[a("p",{staticClass:"item__prod-id"},[t._v(t._s(t.idx+1))]),a("h3",{staticClass:"item__prod-name"},[t._v(t._s(t.prodData["prod-name"]))]),a("div",{staticClass:"item__img-wrapper item-img"},[a("div",{staticClass:"item-img__image",style:t.backGroundImage})]),a("div",{staticClass:"item__prod-info prod-info"},[a("div",[t._v(t._s(t.prodData.category))]),a("ui-text-info",{staticClass:"prod-info__article",attrs:{num:t.prodData.article,fontSz:1,label1:"Артикль:"}}),a("ui-price-info",{staticClass:"prod-info__price",attrs:{price:t.prodData.price,fontSz:1,label:"Ціна",isVertical:!1}}),a("ui-text-info",{staticClass:"prod-info__stock",attrs:{num:t.instockQt,fontSz:1,label1:"В наявності",label2:"од."}}),a("div",{staticClass:"tech-info"},[t._v("ID: "+t._s(t.prodData.id))]),a("div",{staticClass:"tech-info"},[t._v("Qt: "+t._s(t.prodData.prodQt)+"/ "+t._s(t.cartQt))])],1),a("div",{staticClass:"item__size flex-wrapper"},[a("ui-text-info",{staticClass:"prod-info__stock",attrs:{num:t.prodData.prodSize.toUpperCase(),fontSz:1.2,label1:"Розмір:"}})],1),a("div",{staticClass:"item__qt-selector"},[a("ui-count-picker",{attrs:{value:t.cartQt,maxValue:t.instockQt,minValue:1,label:"Кількість:"},on:{clicked:function(a){return t.updateQt(a)}}})],1),a("div",{staticClass:"item__sum-block"},[a("ui-price-info",{attrs:{price:t.cartSum,fontSz:1.5,label:"Сума"}})],1),a("div",{staticClass:"item__del-btn"},[a("ui-delete-button",{on:{deleteItem:t.deleteItem}})],1)])])}),o=[],c={name:"v-products-cart-item",data(){return{cartQt:0}},props:{prodData:{type:Object,default:()=>{}},idx:{type:Number,default:0}},computed:{cartSum(){return this.cartQt*this.prodData.price},backGroundImage(){return{"background-image":"url("+e(990)("./"+this.prodData.image)+")"}},instockArr(){let t=[];return this.prodData.available.forEach((a=>{const e=Object.entries(a)[0];t.push({sz:e[0],qt:e[1]})})),t},instockQt(){return this.instockArr.find((t=>t.sz===this.prodData.prodSize)).qt},isInStock(){return this.instockQt>0}},watch:{},methods:{deleteItem(){this.$emit("deleteItem",this.prodData)},updateQt(t){this.cartQt=this.cartQt+t,this.updateCart()},updateCart(){const t=JSON.parse(JSON.stringify(this.prodData));t.cartQt=this.cartQt,t.cartSum=this.cartSum,this.$emit("updateCart",t)}},mounted(){this.cartQt=this.prodData.cartQt}},n=c,d=e(1001),l=(0,d.Z)(n,r,o,!1,null,"5ace67d5",null),_=l.exports,u=e(3822),p={name:"v-products-cart",components:{cartItem:_},data(){return{title:"Кошик",noticeBlock:"",msgID:"",modal:{isBaseActive:!0,isFrozenBg:!0,isModalActive:!0,result:void 0,page:this.currentPage},removable:{}}},computed:{...(0,u.Se)(["CART","CART_PRODS_QT","CART_SUM","CART_QT","MODAL_IF_MODE"]),currentPage(){return this.$route.name},approve(){return this.MODAL_IF_MODE(this.msgID,!1)},disapprove(){return this.MODAL_IF_MODE(this.msgID,!0)}},watch:{approve(t){t&&(this.MOVE_CART_TO_ORDER(),this.$router.push({name:"order"}))},disapprove(t){t&&(this.CART_PRODS_QT>1?this.DELETE_FROM_CART(this.removable.cartId):(this.DELETE_FROM_CART(this.removable.cartId),this.$router.push({name:"products"})))}},methods:{...(0,u.nv)(["DELETE_FROM_CART","UPDATE_CART","MOVE_CART_TO_ORDER","SET_MODAL_WINDOW"]),processCart(){const t=structuredClone(this.modal);t.id=this.msgID=Number((Date.now()/100).toFixed().slice(4)),t.title="замовлення",t.message=`На суму: ${this.CART_SUM.toFixed(2)} грн.`,t.data=`Кількість: ${this.CART_QT}`,t.prompt="Перейти до оформлення?",t["remove-mode"]=!1,this.SET_MODAL_WINDOW(t)},updateCart(t){this.UPDATE_CART(t)},deleteItem(t){this.removable=t;const a=structuredClone(this.modal);a.id=this.msgID=Number((Date.now()/100).toFixed().slice(4)),a.title=t["prod-name"],a.message=`Розмір: ${t.prodSize}`,a.data=`Код товару: ${t.article}`,a.prompt="Видалити з кошику?",a["remove-mode"]=!0,this.SET_MODAL_WINDOW(a)}}},m=p,h=(0,d.Z)(m,i,s,!1,null,"0d79eb12",null),C=h.exports}}]);
//# sourceMappingURL=283.278ae778.js.map